(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e98b8236"],{"444a":function(e,t,a){},4613:function(e,t,a){"use strict";a("444a")},e4ae:function(e,t,a){"use strict";a.r(t);var r=a("7a23"),n={class:"pt-3 container-fluid d-flex justify-content-start bg-white border-top"},c={class:"mx-auto pb-3 w-80 word-wrap-break"},s={class:"\r\n        d-flex\r\n        mx-auto\r\n        col-xxl-6 col-xl-7 col-lg-8 col-md-10 col-sm-12 col-12\r\n      "},i={key:0,class:"container mt-3"},u={key:1,class:"spinner-border text-primary mx-auto",role:"status"},o=Object(r["h"])("span",{class:"visually-hidden"},"Loading...",-1);function l(e,t){var a=Object(r["z"])("H1"),l=Object(r["z"])("TweetCard");return Object(r["r"])(),Object(r["d"])(r["a"],null,[Object(r["h"])("div",n,[Object(r["h"])("div",c,[Object(r["h"])(a,null,{default:Object(r["G"])((function(){return[Object(r["g"])("#"+Object(r["B"])(e.hashtag),1)]})),_:1})])]),Object(r["h"])("div",s,[e.isLoading?(Object(r["r"])(),Object(r["d"])("div",u,[o])):(Object(r["r"])(),Object(r["d"])("div",i,[(Object(r["r"])(!0),Object(r["d"])(r["a"],null,Object(r["y"])(e.tweetsData.tweets,(function(e){return Object(r["r"])(),Object(r["d"])(l,{key:e.id,"initial-tweet":e,"initial-replies":e.Replies},null,8,["initial-tweet","initial-replies"])})),128))]))])],64)}var d=a("5530"),b=a("1da1"),h=(a("96cf"),a("d81d"),a("caad"),a("2532"),a("5502")),p=a("6c02"),j=a("2fa3"),O=a("8f7b"),w={getTweets:function(e){var t=e.hashtag;return j["c"].get("/hashtag/".concat(t))}},f={name:"Hashtag",components:{TweetCard:O["a"]},setup:function(){var e=Object(p["e"])(),t=Object(p["f"])(),a=Object(r["x"])(""),n=Object(r["x"])(!0),c=Object(h["c"])(),s=Object(r["v"])({tweets:[]});a.value=e.params.hashtag;var i=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var r,i,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n.value=!0,e.next=4,w.getTweets({hashtag:a.value});case 4:if(r=e.sent,i=r.data,"error"!==i.status){e.next=8;break}throw new Error(i.message);case 8:u=i.hashtagedTweets,u=u.map((function(e){return e.isThumbsUp=e.LikedUsers.map((function(e){return e.id})).includes(c.state.currentUser.id),e.likedCount=e.LikedUsers.length,e})),u.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})),s.tweets=u,n.value=!1,e.next=20;break;case 15:e.prev=15,e.t0=e["catch"](0),n.value=!1,"this tag is not exist"===e.t0.message?(t.push({name:"hashtag-not-exist"}),j["b"].fire({icon:"error",title:"hashtag: ".concat(a.value," 不存在，請使用 # 創建"),timer:7e3})):j["b"].fire({icon:"error",title:"無法取得貼文資料，請稍後再試"}),console.log("Error: ",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return Object(r["p"])(Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i();case 1:case"end":return e.stop()}}),e)})))),Object(p["d"])((function(e,t,r){a.value=e.params.hashtag,i(),r()})),{hashtag:a,isLoading:n,tweetsData:s}},computed:Object(d["a"])({},Object(h["b"])(["currentUser","isAuthenticated"]))};a("4613");f.render=l;t["default"]=f}}]);
//# sourceMappingURL=chunk-e98b8236.a9c67ac5.js.map